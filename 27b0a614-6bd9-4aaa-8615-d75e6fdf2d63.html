<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>【CSS Snippet】隐藏文件树中项目 - Zji</title>
  <link rel="stylesheet" href="github-markdown.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="atom-one-dark.min.css">
</head>
<body class="markdown-body">
  <main>
    <article>
      <h1 class="note-title">【CSS Snippet】隐藏文件树中项目</h1>
      <section><p>将文件树中个别项目隐藏，适用于隐藏某些插件文件夹，资源文件夹，或者和其他软件共用时，其他软件产生的 Obsidian 用不上的内容。</p>
<p>每个人的需求不同，所以本页提供了一个代码生成器，用来生成个性的 CSS Snippet。</p>
<h2 id="%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E">使用说明</h2><p>使用 Markdown 无序列表形式，一行一条文件路径。</p>
<h2 id="%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7">使用技巧</h2><ul>
<li>默认会精准匹配输入的路径，所以请输入完整路径</li><li>如果路径以 <code class="inline-code">^</code> 开头则表示匹配所有以此路径开头的项目</li><li>如果路径以 <code class="inline-code">$</code> 结尾则表示匹配所有以此路径结束的项目</li></ul>
<h2 id="%E8%A7%84%E5%88%99%E7%A4%BA%E4%BE%8B">规则示例</h2><pre class="hljs-code-block"><code class="hljs test" lang="test">其他文字什么的完全不影响呢~
你可以用代码块右上角的按钮复制这些内容到下面试一下哦~

如果是单个页面或者文件，就直接写完整路径：

<span class="hljs-bullet">- </span>Folder/note.md

如果是某个文件夹，就以此为前缀，注意结尾不要写 / 或者 \

<span class="hljs-bullet">- </span>^Folder/Subfolder

如果是特定格式文件，则用后缀形式

<span class="hljs-bullet">- </span>.png$

所以完全可以随便弄一篇笔记或者什么文件来登记这些信息，整篇内容复制过来就可以生成对应样式了。
一般设定好之后就很少修改了吧，所以也不算很麻烦呢</code></pre><h2 id="%E6%96%87%E4%BB%B6%E6%A0%91%E5%9B%BE%E6%A0%87%E6%A0%B7%E5%BC%8F%E7%89%87%E6%AE%B5%E7%94%9F%E6%88%90%E5%99%A8">文件树图标样式片段生成器</h2><div id="File_Tree_Hide_Some_Items_generator">File tree hide some items generator</div>

</section>
    </article>
  </main>
  <aside id="side-menu">
    <div class="toggle"><i class="fa-solid fa-bars"></i></div>
    <div class="aside-content">
      <div class="nav">
        <ul>
          <li class="home"><a href="/">Home</a></li>
          <li class="changelogs"><a href="/changelogs">Changelogs</a></li>
          <!-- <li class="coffee"><a href="https://afdian.net/a/daomishu" target="_blank">Coffee~ <i class="fa-solid fa-coffee"></i></a></li> -->
          <li class="gotop"><a href="#">Top</a></li>
        </ul>
      </div>
      <a class="coffee" href="https://afdian.com/a/daomishu" target="_blank" title="嘿，朋友！给我一杯咖啡~是的，是的，用来开启一天工作的咖啡~那玩意儿简直是我工作的电源。怎么样，难道你不期待我多鼓捣出一点奇奇怪怪的有趣儿玩意儿吗？">Buy me a Coffee~ <i class="fa-solid fa-coffee"></i></a>
      <div class="toc"><ul><li data-hash="%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" style="margin-left: 1.5em"><a href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E">使用说明</a></li>
<li data-hash="%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7" style="margin-left: 1.5em"><a href="#%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7">使用技巧</a></li>
<li data-hash="%E8%A7%84%E5%88%99%E7%A4%BA%E4%BE%8B" style="margin-left: 1.5em"><a href="#%E8%A7%84%E5%88%99%E7%A4%BA%E4%BE%8B">规则示例</a></li>
<li data-hash="%E6%96%87%E4%BB%B6%E6%A0%91%E5%9B%BE%E6%A0%87%E6%A0%B7%E5%BC%8F%E7%89%87%E6%AE%B5%E7%94%9F%E6%88%90%E5%99%A8" style="margin-left: 1.5em"><a href="#%E6%96%87%E4%BB%B6%E6%A0%91%E5%9B%BE%E6%A0%87%E6%A0%B7%E5%BC%8F%E7%89%87%E6%AE%B5%E7%94%9F%E6%88%90%E5%99%A8">文件树图标样式片段生成器</a></li></ul></div>
      <div class="meta"><small>created: 2024-08-13 19:18:17</small><br><small>updated: 2024-08-13 19:54:12</small></div>
    </div>
  </aside>
  <script src="script.js"></script>
  <foot>©2022~2025 稻米鼠. Last build at 2025-01-31 00:00:22</foot>
<script class="post-script">/**
 * 文件树中隐藏某些项目的样式片段
 * @author: 稻米鼠
 * @description: 生成用来隐藏文件树中某些项目的样式片段
 * @created: 2024-08-13
 * @updated: 2024-08-13
 * @version: 0.0.1
 */
const root = document.getElementById('File_Tree_Hide_Some_Items_generator');
root.innerHTML = `
<div class="rule_input_area">
  <label for="rule_input">隐藏规则：</label><br>
  <textarea id="rule_input" placeholder="规则书写方法见上方说明..."></textarea>
</div>
<pre id="rule_output_area" class="hljs-code-block">
<code class="hljs css" lang="css">
</code></pre>
<style>
#rule_input {
  box-sizing: border-box;
  width: 100%;
  min-height: 9rem;
  padding: 1rem;
}
</style>
`

const rule_input = root.querySelector('#rule_input');
const rule_output = root.querySelector('#rule_output_area > code');

const generateSnippet = () => {
  const ruleSrc = rule_input.value
  /** 储存用户定义的规则 */
  const rules = []
  ruleSrc.split('\n').forEach(line => {
    let match = line.match(/^\s*[-\*]\s+(\^?)(.+?)(\$?)$/)
    if(match){
      rules.push({
        path: match[2].replace(/\\/g, '/'),
        type: match[1] ? 'start' : ( match[3] ? 'end' : 'all' ),  // 匹配方式
      })
      return
    }
  })
  let code = `/**
 * 文件树项目隐藏 CSS Snippet
 * @ToolPage: https://zji.me/27b0a614-6bd9-4aaa-8615-d75e6fdf2d63
 * @author: 稻米鼠
 * @generated: ${new Date().toLocaleDateString('zh-CN', {year: 'numeric', month: '2-digit', day: '2-digit',}).replace(/\//g, '-')}
 */
`
  const selectors = []
  rules.sort((a, b) => a.path.localeCompare(b.path)).forEach(({path, type})=>{
    const preMark = type==='start' ? '^' : (type==='end' ? `$` : '')
    const selector = /\.[a-zA-Z0-9]+$/.test(path)
      ? `.nav-file > .nav-file-title[data-path${preMark}="${path}"]`
      : `.nav-folder > .nav-folder-title[data-path${preMark}="${path}"]`
    selectors.push(selector)
  })
  code += selectors.join(',\n') + ' {\n  display: none;\n}'

  rule_output.innerHTML = `${code}`
}

rule_input.addEventListener('input', generateSnippet);</script>
</body>
</html>