<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="google-site-verification" content="" />
  <meta name="referrer" content="unsafe-url">
  
  <title>0048 教你笔记分栏-Dataview</title>
  <meta name="author" content="稻米鼠">
  <meta name="description" content="效果展示
思路说明">
  
  
  <meta property="og:title" content="0048 教你笔记分栏-Dataview"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="自己的自己"/>
  <link href="/apple-touch-icon-precomposed.png" sizes="180x180" rel="apple-touch-icon-precomposed">
  <link rel="alternate" href="/atom.xml" title="自己的自己" type="application/atom+xml">
  <link rel="stylesheet" href="/css/m.min.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <a id="top"></a>
  <div id="main">
    <div class="main-ctnr">
      <div class="behind">
  <a href="/" class="back black-color">
    <svg class="i-close" viewBox="0 0 32 32" width="22" height="22" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
        <path d="M2 30 L30 2 M30 30 L2 2"></path>
    </svg>
  </a>
  
    <div class="description">
      &nbsp;怎么办怎么办，老鼠是笨蛋！
    </div>
    
</div>


  <article class="standard post">
    <div class="title">
      
  
    <h1 class="page-title center">
        0048 教你笔记分栏-Dataview
    </h1>
  


    </div>
    <div class="meta center">
      <time datetime="2022-11-04T15:08:41.000Z" itemprop="datePublished">
  <svg class="i-calendar" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
    <path d="M2 6 L2 30 30 30 30 6 Z M2 15 L30 15 M7 3 L7 9 M13 3 L13 9 M19 3 L19 9 M25 3 L25 9"></path>
  </svg>
  &nbsp;
  2022-11-04
</time>





    
    &nbsp;
    <svg class="i-tag" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
      <circle cx="24" cy="8" r="2"></circle>
      <path d="M2 18 L18 2 30 2 30 14 14 30 Z"></path>
    </svg>
    &nbsp;
    <a href="/tags/Published/">Published</a>·<a href="/tags/Blog/">Blog</a>·<a href="/tags/Note-Obsidian/">Note/Obsidian</a>·<a href="/tags/Note-Note/">Note/Note</a>·<a href="/tags/Note-Article/">Note/Article</a>


    </div>
    <hr>
    
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-text">效果展示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E8%AF%B4%E6%98%8E"><span class="toc-text">思路说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS-Snippets"><span class="toc-text">CSS Snippets</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%AE%B2%E8%A7%A3"><span class="toc-text">代码讲解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%90%E7%A7%8D%E5%BC%BA%E8%BF%AB%E7%97%87"><span class="toc-text">某种强迫症</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82"><span class="toc-text">一些细节</span></a></li></ol>
    
    <div class="picture-container">
      
    </div>
    <h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><img src="https://global.cdn.blingwang.cn/2022/11/04/636449ef84ea2.png" alt="Split-Screen.png"></p>
<h2 id="思路说明"><a href="#思路说明" class="headerlink" title="思路说明"></a>思路说明</h2><span id="more"></span>

<p>Obsidian 有一个很细节的功能，叫做： <a target="_blank" rel="noopener" href="https://help.obsidian.md/How+to/Use+callouts">callouts</a>，这不是标准的 Markdown 语法，但是侵入性并不强，即：不解析或者只做基本解析后的可读性还是很不错的。</p>
<p>基本格式是引用块的开始加一个方括号来说明类型。后续内容都放在这个引用块里就可以了。这里有一个很重要的概念：块。Markdown 里面标记块的语法并不多，常用的只有代码块。所以，当我们需要分栏时，callouts 是个很不错的选择。</p>
<p>同时，在上面的官方帮助中，也给出了 callouts 的自定义方法，可见，官方也是支持自定义的。那么一切变得合理。</p>
<h2 id="CSS-Snippets"><a href="#CSS-Snippets" class="headerlink" title="CSS Snippets"></a>CSS Snippets</h2><p>最简单直接的方式是用 CSS 代码片段，方法参见 0014 和 0029。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.callout</span><span class="selector-attr">[data-callout=<span class="string">&quot;split-2&quot;</span>]</span>,</span><br><span class="line"><span class="selector-class">.callout</span><span class="selector-attr">[data-callout=<span class="string">&quot;split-3&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attr">--callout-icon</span>: <span class="string">&quot;layout&quot;</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--background-primary);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>, .<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.callout</span><span class="selector-attr">[data-callout=<span class="string">&quot;split-2&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.callout</span><span class="selector-attr">[data-callout=<span class="string">&quot;split-3&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">33%</span> - <span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line">br &#123; <span class="attribute">clear</span>: both; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="代码讲解"><a href="#代码讲解" class="headerlink" title="代码讲解"></a>代码讲解</h2><p>说了是教你，所以讲一下代码，放心，不是要教会你如何写，而是有点理解能自己改。建议先把本篇内容用<a target="_blank" rel="noopener" href="https://simpread.pro/">简悦</a>弄进 Obsidian 再读，这样有代码高亮，好读。</p>
<p><code>split-2</code> 和 <code>split-3</code> 是我自定义的类型，你可以随便写，叫 <code>cat</code>、<code>dog</code>、<code>puppy</code> 都没所谓。当然在插入 callouts 的时候要用对应的类型。</p>
<p><code>--callout-icon: &quot;layout&quot;;</code> 自定义图标，其实也不是很有所谓，我也不知道在哪里找可用的图标，不过可以换成一个 svg 字符串。</p>
<p>说重点，就两个属性：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line"><span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">10px</span>);</span><br></pre></td></tr></table></figure>

<p>漂浮决定了横向排列，宽度 50%，就是一半儿。但是这时候两个块之间没有间隔，所以加 5px 外补（<code>margin: 5px;</code>），左边 5px， 右边 5px，所以实际宽度就是：<code>50% - 10px</code>，注意：减号两边必须有空格。</p>
<p>举一反三，如果想分三栏，就是 <code>width: calc(33% - 10px);</code>。</p>
<p>然后用浮动来实现横排必须在用完后清除浮动，我用了换行符 <code>&lt;br&gt;</code>，你在分栏之后加入一个换行符就好了，对内容没啥影响。可以不理解，但是要照做。</p>
<p>其他代码只是我希望卡片看起来素一点，自己加的样式，你随意。</p>
<h2 id="某种强迫症"><a href="#某种强迫症" class="headerlink" title="某种强迫症"></a>某种强迫症</h2><p>上面的方法几乎没什么额外的资源占用，只是会多加载这么点 CSS 而已。</p>
<p>但如果你只是在某一两篇笔记中分栏，但却要在每时每刻加载这些 CSS，确实存在性能的浪费（微乎其微，比装个插件小多了）。这时候可以用 Dataview 的自定义视图，添加方法参见：0014，0040。</p>
<p>这时候 <code>view.js</code> 文件为空，但是必须创建。</p>
<p><code>view.css</code> 里面放上述代码。</p>
<p>使用的时候要在笔记中加入如下 dataviewjs 代码块：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> dv.<span class="title function_">view</span>(<span class="string">&#x27;SplitScreen-dataview&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>记得把模板目录修改到对应的位置。</p>
<p>确实更麻烦了，但是做到了不使用不加载，强迫症满足。</p>
<h2 id="一些细节"><a href="#一些细节" class="headerlink" title="一些细节"></a>一些细节</h2><ul>
<li>没有写复杂的排版控制，所以效果一般，但是能用</li>
<li>有需求可以自己做更复杂的样式控制</li>
<li>推荐一篇笔记中就左右两栏就好，别像我演示中那样放很多，因为高度不一致时会很难看</li>
<li>用 dataview 的自定义视图时，图标的修改不是完全起作用</li>
<li>编辑时不是横向排列</li>
<li>使用 Remotely Save 插件进行同步时，默认不同步配置文件夹，而且电脑端和移动端也确实不适合完全相同配置，这导致 CSS Snippets 不被同步，但是 dataview 的视图则无需额外关注，随笔记一起无缝同步</li>
</ul>


  </article>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <div class="busuanzi center">
    页阅读量:&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;・&nbsp;
    站访问量:&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;・&nbsp;
    站访客数:&nbsp;<span id="busuanzi_value_site_uv"></span>
  </div>


    





    </div>
  </div>
  <footer class="page-footer"><div class="clearfix">
</div>
<div class="right-foot">
    <div class="firstrow">
        <a href="#top" target="_self">
        <svg class="i-caret-right" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="M10 30 L26 16 10 2 Z"></path>
        </svg>
        </a>
        © XXX 2016-2020
    </div>
    <div class="secondrow">
        <a target="_blank" rel="noopener" href="https://github.com/gaoryrt/hexo-theme-pln">
        Theme Pln
        </a>
    </div>
</div>
<div class="clearfix">
</div>
</footer>
  <script type="text/javascript">

// disqus scripts


// dropdown scripts
function $(s) {
    return document.querySelector(s)
  }

  function $$(s) {
    return document.querySelectorAll(s)
  }
  var dropDownElArr = $$('.dropdown')
  for (var i = 0; i < dropDownElArr.length; i += 1) {
    dropDownElArr[i].addEventListener('click', function(event) {
      var content = this.querySelector('.dropdown-content')
      event.stopPropagation()
      if (content.className.indexOf('open') < 0) {
        content.classList.add('open')
      } else {
        content.classList.remove('open')
      }
    })
  }
  document.body.addEventListener('click', function() {
    var dropDownContentElArr = $$('.dropdown-content')
    for (var i = 0; i < dropDownContentElArr.length; i += 1) {
      dropDownContentElArr[i].classList.remove('open')
    }
  })

  // smooth scroll
  $$('a[href^="#"]').forEach(e=>{
    e.addEventListener("click", function(e) {
      e.preventDefault();
      var t = this.getAttribute("href").substr(1);
      $(`[id='${decodeURIComponent(t)}']`).scrollIntoView({
        behavior: "smooth"
      }),
      t === "top" ? history.replaceState(null, null, " ") : history.pushState(null, null, `#${t}`)
    })
  })

// search
var searchEl = document.querySelector("#local-search-input")
if (searchEl) searchEl.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    var s = e.target.value
    window.open('//www.google.com/search?q=site:https://zji.me%20' + s, '_blank').focus()
  }
})

</script>

</body>
</html>
